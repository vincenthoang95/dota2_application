package com.dota.controller;

import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;

import javax.websocket.server.PathParam;

import org.json.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpEntity;
import org.springframework.http.HttpMethod;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.CrossOrigin;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.client.RestTemplate;

import com.dota.utils.OpenDotaAPIUtils;


@RestController
@CrossOrigin
public class MatchesController {
	
	
	@Autowired
	OpenDotaAPIUtils openDotaAPIUtils;
	
	@GetMapping("/matches/{matchId}")
	public String getMatchDetails(@PathVariable long matchId) {
		
		JSONObject matchResponse = new JSONObject(openDotaAPIUtils.getMatchDetail(matchId));

		return matchResponse.toString();
	}
	
	@GetMapping("/testHerosStats")
	public String test() {
		return getJSONFile("src/main/resources/build/heroes.json");
	}
	
	@GetMapping("/testMatch")
	public String testMatchDetails() {
		return "{\"match_id\":5352330363,\"barracks_status_dire\":51,\"barracks_status_radiant\":63,\"chat\":null,\"cluster\":111,\"cosmetics\":null,\"dire_score\":6,\"dire_team_id\":null,\"draft_timings\":null,\"duration\":1097,\"engine\":1,\"first_blood_time\":218,\"game_mode\":22,\"human_players\":10,\"leagueid\":0,\"lobby_type\":7,\"match_seq_num\":4488299869,\"negative_votes\":0,\"objectives\":null,\"picks_bans\":[{\"is_pick\":true,\"hero_id\":30,\"team\":1,\"order\":0},{\"is_pick\":true,\"hero_id\":84,\"team\":0,\"order\":1},{\"is_pick\":true,\"hero_id\":96,\"team\":0,\"order\":2},{\"is_pick\":true,\"hero_id\":108,\"team\":1,\"order\":3},{\"is_pick\":true,\"hero_id\":39,\"team\":1,\"order\":4},{\"is_pick\":true,\"hero_id\":31,\"team\":0,\"order\":5},{\"is_pick\":true,\"hero_id\":47,\"team\":0,\"order\":6},{\"is_pick\":true,\"hero_id\":8,\"team\":0,\"order\":7},{\"is_pick\":true,\"hero_id\":68,\"team\":1,\"order\":8},{\"is_pick\":false,\"hero_id\":17,\"team\":0,\"order\":9},{\"is_pick\":false,\"hero_id\":63,\"team\":0,\"order\":10},{\"is_pick\":false,\"hero_id\":32,\"team\":0,\"order\":11},{\"is_pick\":false,\"hero_id\":106,\"team\":0,\"order\":12}],\"positive_votes\":0,\"radiant_gold_adv\":null,\"radiant_score\":14,\"radiant_team_id\":null,\"radiant_win\":true,\"radiant_xp_adv\":null,\"skill\":2,\"start_time\":1586742007,\"teamfights\":null,\"tower_status_dire\":388,\"tower_status_radiant\":2047,\"version\":null,\"replay_salt\":437302041,\"series_id\":0,\"series_type\":0,\"players\":[{\"match_id\":5352330363,\"player_slot\":0,\"ability_targets\":null,\"ability_upgrades_arr\":[5218,5220,5220,5218,5220,5221,5218,5220,5219,5218],\"ability_uses\":null,\"account_id\":null,\"actions\":null,\"additional_units\":null,\"assists\":3,\"backpack_0\":0,\"backpack_1\":0,\"backpack_2\":0,\"backpack_3\":null,\"buyback_log\":null,\"camps_stacked\":null,\"connection_log\":null,\"creeps_stacked\":null,\"damage\":null,\"damage_inflictor\":null,\"damage_inflictor_received\":null,\"damage_taken\":null,\"damage_targets\":null,\"deaths\":2,\"denies\":16,\"dn_t\":null,\"firstblood_claimed\":null,\"gold\":425,\"gold_per_min\":396,\"gold_reasons\":null,\"gold_spent\":7265,\"gold_t\":null,\"hero_damage\":6514,\"hero_healing\":0,\"hero_hits\":null,\"hero_id\":47,\"item_0\":216,\"item_1\":90,\"item_2\":75,\"item_3\":63,\"item_4\":75,\"item_5\":0,\"item_neutral\":0,\"item_uses\":null,\"kill_streaks\":null,\"killed\":null,\"killed_by\":null,\"kills\":3,\"kills_log\":null,\"lane_pos\":null,\"last_hits\":69,\"leaver_status\":0,\"level\":10,\"lh_t\":null,\"life_state\":null,\"max_hero_hit\":null,\"multi_kills\":null,\"obs\":null,\"obs_left_log\":null,\"obs_log\":null,\"obs_placed\":null,\"party_id\":0,\"party_size\":1,\"performance_others\":null,\"permanent_buffs\":null,\"pings\":null,\"pred_vict\":null,\"purchase\":null,\"purchase_log\":null,\"randomed\":null,\"repicked\":null,\"roshans_killed\":null,\"rune_pickups\":null,\"runes\":null,\"runes_log\":null,\"sen\":null,\"sen_left_log\":null,\"sen_log\":null,\"sen_placed\":null,\"stuns\":null,\"teamfight_participation\":null,\"times\":null,\"tower_damage\":2189,\"towers_killed\":null,\"xp_per_min\":332,\"xp_reasons\":null,\"xp_t\":null,\"radiant_win\":true,\"start_time\":1586742007,\"duration\":1097,\"cluster\":111,\"lobby_type\":7,\"game_mode\":22,\"is_contributor\":false,\"patch\":44,\"region\":1,\"isRadiant\":true,\"win\":1,\"lose\":0,\"total_gold\":7240,\"total_xp\":6070,\"kills_per_min\":0.1640838650865998,\"kda\":2,\"abandons\":0,\"rank_tier\":null,\"cosmetics\":[],\"benchmarks\":{\"gold_per_min\":{\"raw\":396,\"pct\":0.39759036144578314},\"xp_per_min\":{\"raw\":332,\"pct\":0.06506024096385542},\"kills_per_min\":{\"raw\":0.16408386508659983,\"pct\":0.44096385542168676},\"last_hits_per_min\":{\"raw\":3.773928896991796,\"pct\":0.30120481927710846},\"hero_damage_per_min\":{\"raw\":356.2807657247037,\"pct\":0.07951807228915662},\"hero_healing_per_min\":{\"raw\":0,\"pct\":0.7975903614457831},\"tower_damage\":{\"raw\":2189,\"pct\":0.5493975903614458},\"stuns_per_min\":{\"raw\":0,\"pct\":0.7879518072289157},\"lhten\":{}}},{\"match_id\":5352330363,\"player_slot\":1,\"ability_targets\":null,\"ability_upgrades_arr\":[5028,5027,5028,5029,5028,5030,5028,5027,5027,5922,5027,5030,5029,5029],\"ability_uses\":null,\"account_id\":null,\"actions\":null,\"additional_units\":null,\"assists\":0,\"backpack_0\":11,\"backpack_1\":0,\"backpack_2\":0,\"backpack_3\":null,\"buyback_log\":null,\"camps_stacked\":null,\"connection_log\":null,\"creeps_stacked\":null,\"damage\":null,\"damage_inflictor\":null,\"damage_inflictor_received\":null,\"damage_taken\":null,\"damage_targets\":null,\"deaths\":1,\"denies\":24,\"dn_t\":null,\"firstblood_claimed\":null,\"gold\":1815,\"gold_per_min\":599,\"gold_reasons\":null,\"gold_spent\":9605,\"gold_t\":null,\"hero_damage\":6203,\"hero_healing\":3301,\"hero_hits\":null,\"hero_id\":8,\"item_0\":50,\"item_1\":75,\"item_2\":170,\"item_3\":172,\"item_4\":166,\"item_5\":36,\"item_neutral\":331,\"item_uses\":null,\"kill_streaks\":null,\"killed\":null,\"killed_by\":null,\"kills\":4,\"kills_log\":null,\"lane_pos\":null,\"last_hits\":142,\"leaver_status\":0,\"level\":14,\"lh_t\":null,\"life_state\":null,\"max_hero_hit\":null,\"multi_kills\":null,\"obs\":null,\"obs_left_log\":null,\"obs_log\":null,\"obs_placed\":null,\"party_id\":1,\"party_size\":1,\"performance_others\":null,\"permanent_buffs\":null,\"pings\":null,\"pred_vict\":null,\"purchase\":null,\"purchase_log\":null,\"randomed\":null,\"repicked\":null,\"roshans_killed\":null,\"rune_pickups\":null,\"runes\":null,\"runes_log\":null,\"sen\":null,\"sen_left_log\":null,\"sen_log\":null,\"sen_placed\":null,\"stuns\":null,\"teamfight_participation\":null,\"times\":null,\"tower_damage\":6359,\"towers_killed\":null,\"xp_per_min\":562,\"xp_reasons\":null,\"xp_t\":null,\"radiant_win\":true,\"start_time\":1586742007,\"duration\":1097,\"cluster\":111,\"lobby_type\":7,\"game_mode\":22,\"is_contributor\":false,\"patch\":44,\"region\":1,\"isRadiant\":true,\"win\":1,\"lose\":0,\"total_gold\":10951,\"total_xp\":10275,\"kills_per_min\":0.21877848678213307,\"kda\":2,\"abandons\":0,\"rank_tier\":null,\"cosmetics\":[],\"benchmarks\":{\"gold_per_min\":{\"raw\":599,\"pct\":0.6384711779448622},\"xp_per_min\":{\"raw\":562,\"pct\":0.3308270676691729},\"kills_per_min\":{\"raw\":0.21877848678213307,\"pct\":0.5200501253132832},\"last_hits_per_min\":{\"raw\":7.7666362807657245,\"pct\":0.6303258145363408},\"hero_damage_per_min\":{\"raw\":339.2707383773929,\"pct\":0.14411027568922305},\"hero_healing_per_min\":{\"raw\":180.54694621695532,\"pct\":0.7142857142857143},\"tower_damage\":{\"raw\":6359,\"pct\":0.5902255639097744},\"stuns_per_min\":{\"raw\":0,\"pct\":0.5576441102756893},\"lhten\":{}}},{\"match_id\":5352330363,\"player_slot\":2,\"ability_targets\":null,\"ability_upgrades_arr\":[5439,5438,5439,5438,5439,5441,5439,5438,5438],\"ability_uses\":null,\"account_id\":104857219,\"actions\":null,\"additional_units\":null,\"assists\":5,\"backpack_0\":0,\"backpack_1\":0,\"backpack_2\":0,\"backpack_3\":null,\"buyback_log\":null,\"camps_stacked\":null,\"connection_log\":null,\"creeps_stacked\":null,\"damage\":null,\"damage_inflictor\":null,\"damage_inflictor_received\":null,\"damage_taken\":null,\"damage_targets\":null,\"deaths\":1,\"denies\":2,\"dn_t\":null,\"firstblood_claimed\":null,\"gold\":556,\"gold_per_min\":349,\"gold_reasons\":null,\"gold_spent\":6380,\"gold_t\":null,\"hero_damage\":3798,\"hero_healing\":400,\"hero_hits\":null,\"hero_id\":84,\"item_0\":60,\"item_1\":180,\"item_2\":65,\"item_3\":21,\"item_4\":0,\"item_5\":0,\"item_neutral\":287,\"item_uses\":null,\"kill_streaks\":null,\"killed\":null,\"killed_by\":null,\"kills\":1,\"kills_log\":null,\"lane_pos\":null,\"last_hits\":40,\"leaver_status\":0,\"level\":9,\"lh_t\":null,\"life_state\":null,\"max_hero_hit\":null,\"multi_kills\":null,\"obs\":null,\"obs_left_log\":null,\"obs_log\":null,\"obs_placed\":null,\"party_id\":2,\"party_size\":1,\"performance_others\":null,\"permanent_buffs\":null,\"pings\":null,\"pred_vict\":null,\"purchase\":null,\"purchase_log\":null,\"randomed\":null,\"repicked\":null,\"roshans_killed\":null,\"rune_pickups\":null,\"runes\":null,\"runes_log\":null,\"sen\":null,\"sen_left_log\":null,\"sen_log\":null,\"sen_placed\":null,\"stuns\":null,\"teamfight_participation\":null,\"times\":null,\"tower_damage\":672,\"towers_killed\":null,\"xp_per_min\":275,\"xp_reasons\":null,\"xp_t\":null,\"personaname\":\"l3abyPunter\",\"name\":null,\"last_login\":null,\"radiant_win\":true,\"start_time\":1586742007,\"duration\":1097,\"cluster\":111,\"lobby_type\":7,\"game_mode\":22,\"is_contributor\":false,\"patch\":44,\"region\":1,\"isRadiant\":true,\"win\":1,\"lose\":0,\"total_gold\":6380,\"total_xp\":5027,\"kills_per_min\":0.05469462169553327,\"kda\":3,\"abandons\":0,\"rank_tier\":55,\"cosmetics\":[],\"benchmarks\":{\"gold_per_min\":{\"raw\":349,\"pct\":0.7595019659239842},\"xp_per_min\":{\"raw\":275,\"pct\":0.11336828309305373},\"kills_per_min\":{\"raw\":0.05469462169553327,\"pct\":0.35386631716906947},\"last_hits_per_min\":{\"raw\":2.187784867821331,\"pct\":0.8309305373525557},\"hero_damage_per_min\":{\"raw\":207.73017319963537,\"pct\":0.07470511140235911},\"hero_healing_per_min\":{\"raw\":21.877848678213308,\"pct\":0.8348623853211009},\"tower_damage\":{\"raw\":672,\"pct\":0.7129750982961992},\"stuns_per_min\":{\"raw\":0,\"pct\":0.001310615989515072},\"lhten\":{}}},{\"match_id\":5352330363,\"player_slot\":3,\"ability_targets\":null,\"ability_upgrades_arr\":[5516,5514,5516,5515,5515,5517,5515,5515,5514,5918],\"ability_uses\":null,\"account_id\":null,\"actions\":null,\"additional_units\":null,\"assists\":6,\"backpack_0\":0,\"backpack_1\":0,\"backpack_2\":0,\"backpack_3\":null,\"buyback_log\":null,\"camps_stacked\":null,\"connection_log\":null,\"creeps_stacked\":null,\"damage\":null,\"damage_inflictor\":null,\"damage_inflictor_received\":null,\"damage_taken\":null,\"damage_targets\":null,\"deaths\":0,\"denies\":14,\"dn_t\":null,\"firstblood_claimed\":null,\"gold\":759,\"gold_per_min\":459,\"gold_reasons\":null,\"gold_spent\":8245,\"gold_t\":null,\"hero_damage\":2262,\"hero_healing\":0,\"hero_hits\":null,\"hero_id\":96,\"item_0\":1,\"item_1\":131,\"item_2\":50,\"item_3\":34,\"item_4\":279,\"item_5\":125,\"item_neutral\":0,\"item_uses\":null,\"kill_streaks\":null,\"killed\":null,\"killed_by\":null,\"kills\":4,\"kills_log\":null,\"lane_pos\":null,\"last_hits\":91,\"leaver_status\":0,\"level\":10,\"lh_t\":null,\"life_state\":null,\"max_hero_hit\":null,\"multi_kills\":null,\"obs\":null,\"obs_left_log\":null,\"obs_log\":null,\"obs_placed\":null,\"party_id\":3,\"party_size\":1,\"performance_others\":null,\"permanent_buffs\":null,\"pings\":null,\"pred_vict\":null,\"purchase\":null,\"purchase_log\":null,\"randomed\":null,\"repicked\":null,\"roshans_killed\":null,\"rune_pickups\":null,\"runes\":null,\"runes_log\":null,\"sen\":null,\"sen_left_log\":null,\"sen_log\":null,\"sen_placed\":null,\"stuns\":null,\"teamfight_participation\":null,\"times\":null,\"tower_damage\":4010,\"towers_killed\":null,\"xp_per_min\":306,\"xp_reasons\":null,\"xp_t\":null,\"radiant_win\":true,\"start_time\":1586742007,\"duration\":1097,\"cluster\":111,\"lobby_type\":7,\"game_mode\":22,\"is_contributor\":false,\"patch\":44,\"region\":1,\"isRadiant\":true,\"win\":1,\"lose\":0,\"total_gold\":8392,\"total_xp\":5594,\"kills_per_min\":0.21877848678213307,\"kda\":10,\"abandons\":0,\"rank_tier\":null,\"cosmetics\":[],\"benchmarks\":{\"gold_per_min\":{\"raw\":459,\"pct\":0.6736526946107785},\"xp_per_min\":{\"raw\":306,\"pct\":0.0658682634730539},\"kills_per_min\":{\"raw\":0.21877848678213307,\"pct\":0.8802395209580839},\"last_hits_per_min\":{\"raw\":4.977210574293528,\"pct\":0.5449101796407185},\"hero_damage_per_min\":{\"raw\":123.71923427529626,\"pct\":0.010479041916167664},\"hero_healing_per_min\":{\"raw\":0,\"pct\":0.9326347305389222},\"tower_damage\":{\"raw\":4010,\"pct\":0.6437125748502994},\"stuns_per_min\":{\"raw\":0,\"pct\":0},\"lhten\":{}}},{\"match_id\":5352330363,\"player_slot\":4,\"ability_targets\":null,\"ability_upgrades_arr\":[5136,5134,5134,7325,5136,5137,5136,5136],\"ability_uses\":null,\"account_id\":93102567,\"actions\":null,\"additional_units\":null,\"assists\":4,\"backpack_0\":0,\"backpack_1\":0,\"backpack_2\":0,\"backpack_3\":null,\"buyback_log\":null,\"camps_stacked\":null,\"connection_log\":null,\"creeps_stacked\":null,\"damage\":null,\"damage_inflictor\":null,\"damage_inflictor_received\":null,\"damage_taken\":null,\"damage_targets\":null,\"deaths\":2,\"denies\":3,\"dn_t\":null,\"firstblood_claimed\":null,\"gold\":1032,\"gold_per_min\":262,\"gold_reasons\":null,\"gold_spent\":4455,\"gold_t\":null,\"hero_damage\":4217,\"hero_healing\":825,\"hero_hits\":null,\"hero_id\":31,\"item_0\":0,\"item_1\":0,\"item_2\":38,\"item_3\":79,\"item_4\":180,\"item_5\":0,\"item_neutral\":304,\"item_uses\":null,\"kill_streaks\":null,\"killed\":null,\"killed_by\":null,\"kills\":2,\"kills_log\":null,\"lane_pos\":null,\"last_hits\":10,\"leaver_status\":0,\"level\":8,\"lh_t\":null,\"life_state\":null,\"max_hero_hit\":null,\"multi_kills\":null,\"obs\":null,\"obs_left_log\":null,\"obs_log\":null,\"obs_placed\":null,\"party_id\":4,\"party_size\":1,\"performance_others\":null,\"permanent_buffs\":[{\"permanent_buff\":6,\"stack_count\":1}],\"pings\":null,\"pred_vict\":null,\"purchase\":null,\"purchase_log\":null,\"randomed\":null,\"repicked\":null,\"roshans_killed\":null,\"rune_pickups\":null,\"runes\":null,\"runes_log\":null,\"sen\":null,\"sen_left_log\":null,\"sen_log\":null,\"sen_placed\":null,\"stuns\":null,\"teamfight_participation\":null,\"times\":null,\"tower_damage\":887,\"towers_killed\":null,\"xp_per_min\":233,\"xp_reasons\":null,\"xp_t\":null,\"personaname\":\"narutoswimmer\",\"name\":null,\"last_login\":\"2020-02-17T02:30:40.187Z\",\"radiant_win\":true,\"start_time\":1586742007,\"duration\":1097,\"cluster\":111,\"lobby_type\":7,\"game_mode\":22,\"is_contributor\":false,\"patch\":44,\"region\":1,\"isRadiant\":true,\"win\":1,\"lose\":0,\"total_gold\":4790,\"total_xp\":4260,\"kills_per_min\":0.10938924339106654,\"kda\":2,\"abandons\":0,\"rank_tier\":62,\"cosmetics\":[],\"benchmarks\":{\"gold_per_min\":{\"raw\":262,\"pct\":0.45211389128559104},\"xp_per_min\":{\"raw\":233,\"pct\":0.08283002588438308},\"kills_per_min\":{\"raw\":0.10938924339106654,\"pct\":0.5832614322691976},\"last_hits_per_min\":{\"raw\":0.5469462169553327,\"pct\":0.11561691113028473},\"hero_damage_per_min\":{\"raw\":230.6472196900638,\"pct\":0.09232096635030199},\"hero_healing_per_min\":{\"raw\":45.12306289881495,\"pct\":0.913718723037101},\"tower_damage\":{\"raw\":887,\"pct\":0.7635893011216566},\"stuns_per_min\":{\"raw\":0,\"pct\":0.8904227782571182},\"lhten\":{}}},{\"match_id\":5352330363,\"player_slot\":128,\"ability_targets\":null,\"ability_upgrades_arr\":[5186,5187,5187,5186,5187,5189,5186],\"ability_uses\":null,\"account_id\":115880236,\"actions\":null,\"additional_units\":null,\"assists\":0,\"backpack_0\":0,\"backpack_1\":0,\"backpack_2\":0,\"backpack_3\":null,\"buyback_log\":null,\"camps_stacked\":null,\"connection_log\":null,\"creeps_stacked\":null,\"damage\":null,\"damage_inflictor\":null,\"damage_inflictor_received\":null,\"damage_taken\":null,\"damage_targets\":null,\"deaths\":2,\"denies\":2,\"dn_t\":null,\"firstblood_claimed\":null,\"gold\":1807,\"gold_per_min\":155,\"gold_reasons\":null,\"gold_spent\":1500,\"gold_t\":null,\"hero_damage\":21,\"hero_healing\":0,\"hero_hits\":null,\"hero_id\":45,\"item_0\":38,\"item_1\":94,\"item_2\":214,\"item_3\":0,\"item_4\":0,\"item_5\":0,\"item_neutral\":0,\"item_uses\":null,\"kill_streaks\":null,\"killed\":null,\"killed_by\":null,\"kills\":0,\"kills_log\":null,\"lane_pos\":null,\"last_hits\":28,\"leaver_status\":0,\"level\":7,\"lh_t\":null,\"life_state\":null,\"max_hero_hit\":null,\"multi_kills\":null,\"obs\":null,\"obs_left_log\":null,\"obs_log\":null,\"obs_placed\":null,\"party_id\":5,\"party_size\":1,\"performance_others\":null,\"permanent_buffs\":null,\"pings\":null,\"pred_vict\":null,\"purchase\":null,\"purchase_log\":null,\"randomed\":null,\"repicked\":null,\"roshans_killed\":null,\"rune_pickups\":null,\"runes\":null,\"runes_log\":null,\"sen\":null,\"sen_left_log\":null,\"sen_log\":null,\"sen_placed\":null,\"stuns\":null,\"teamfight_participation\":null,\"times\":null,\"tower_damage\":173,\"towers_killed\":null,\"xp_per_min\":177,\"xp_reasons\":null,\"xp_t\":null,\"personaname\":\"Mkkkk\",\"name\":null,\"last_login\":null,\"radiant_win\":true,\"start_time\":1586742007,\"duration\":1097,\"cluster\":111,\"lobby_type\":7,\"game_mode\":22,\"is_contributor\":false,\"patch\":44,\"region\":1,\"isRadiant\":false,\"win\":0,\"lose\":1,\"total_gold\":2833,\"total_xp\":3236,\"kda\":0,\"abandons\":0,\"rank_tier\":55,\"cosmetics\":[],\"benchmarks\":{\"gold_per_min\":{\"raw\":155,\"pct\":0.003257328990228013},\"xp_per_min\":{\"raw\":177,\"pct\":0.004885993485342019},\"kills_per_min\":{\"raw\":0,\"pct\":0.030944625407166124},\"last_hits_per_min\":{\"raw\":1.5314494074749316,\"pct\":0.06026058631921824},\"hero_damage_per_min\":{\"raw\":1.1485870556061988,\"pct\":0},\"hero_healing_per_min\":{\"raw\":0,\"pct\":0.25732899022801303},\"tower_damage\":{\"raw\":173,\"pct\":0.04723127035830619},\"stuns_per_min\":{\"raw\":0,\"pct\":0.747557003257329},\"lhten\":{}}},{\"match_id\":5352330363,\"player_slot\":129,\"ability_targets\":null,\"ability_upgrades_arr\":[5345,5347,5346,5345,5346],\"ability_uses\":null,\"account_id\":null,\"actions\":null,\"additional_units\":null,\"assists\":1,\"backpack_0\":0,\"backpack_1\":0,\"backpack_2\":0,\"backpack_3\":null,\"buyback_log\":null,\"camps_stacked\":null,\"connection_log\":null,\"creeps_stacked\":null,\"damage\":null,\"damage_inflictor\":null,\"damage_inflictor_received\":null,\"damage_taken\":null,\"damage_targets\":null,\"deaths\":2,\"denies\":1,\"dn_t\":null,\"firstblood_claimed\":null,\"gold\":443,\"gold_per_min\":104,\"gold_reasons\":null,\"gold_spent\":2265,\"gold_t\":null,\"hero_damage\":1261,\"hero_healing\":0,\"hero_hits\":null,\"hero_id\":68,\"item_0\":218,\"item_1\":244,\"item_2\":0,\"item_3\":216,\"item_4\":0,\"item_5\":214,\"item_neutral\":304,\"item_uses\":null,\"kill_streaks\":null,\"killed\":null,\"killed_by\":null,\"kills\":0,\"kills_log\":null,\"lane_pos\":null,\"last_hits\":5,\"leaver_status\":0,\"level\":5,\"lh_t\":null,\"life_state\":null,\"max_hero_hit\":null,\"multi_kills\":null,\"obs\":null,\"obs_left_log\":null,\"obs_log\":null,\"obs_placed\":null,\"party_id\":6,\"party_size\":1,\"performance_others\":null,\"permanent_buffs\":null,\"pings\":null,\"pred_vict\":null,\"purchase\":null,\"purchase_log\":null,\"randomed\":null,\"repicked\":null,\"roshans_killed\":null,\"rune_pickups\":null,\"runes\":null,\"runes_log\":null,\"sen\":null,\"sen_left_log\":null,\"sen_log\":null,\"sen_placed\":null,\"stuns\":null,\"teamfight_participation\":null,\"times\":null,\"tower_damage\":0,\"towers_killed\":null,\"xp_per_min\":110,\"xp_reasons\":null,\"xp_t\":null,\"radiant_win\":true,\"start_time\":1586742007,\"duration\":1097,\"cluster\":111,\"lobby_type\":7,\"game_mode\":22,\"is_contributor\":false,\"patch\":44,\"region\":1,\"isRadiant\":false,\"win\":0,\"lose\":1,\"total_gold\":1901,\"total_xp\":2011,\"kda\":0,\"abandons\":0,\"rank_tier\":null,\"cosmetics\":[],\"benchmarks\":{\"gold_per_min\":{\"raw\":104,\"pct\":0.001567398119122257},\"xp_per_min\":{\"raw\":110,\"pct\":0.003134796238244514},\"kills_per_min\":{\"raw\":0,\"pct\":0.050156739811912224},\"last_hits_per_min\":{\"raw\":0.27347310847766637,\"pct\":0.03761755485893417},\"hero_damage_per_min\":{\"raw\":68.96991795806746,\"pct\":0.001567398119122257},\"hero_healing_per_min\":{\"raw\":0,\"pct\":0.6598746081504702},\"tower_damage\":{\"raw\":0,\"pct\":0.2445141065830721},\"stuns_per_min\":{\"raw\":0,\"pct\":0.007836990595611285},\"lhten\":{}}},{\"match_id\":5352330363,\"player_slot\":130,\"ability_targets\":null,\"ability_upgrades_arr\":[5615,5613,5613,5615,5613,5614,5613,5616,5614],\"ability_uses\":null,\"account_id\":186841951,\"actions\":null,\"additional_units\":null,\"assists\":1,\"backpack_0\":0,\"backpack_1\":0,\"backpack_2\":0,\"backpack_3\":null,\"buyback_log\":null,\"camps_stacked\":null,\"connection_log\":null,\"creeps_stacked\":null,\"damage\":null,\"damage_inflictor\":null,\"damage_inflictor_received\":null,\"damage_taken\":null,\"damage_targets\":null,\"deaths\":2,\"denies\":1,\"dn_t\":null,\"firstblood_claimed\":null,\"gold\":469,\"gold_per_min\":212,\"gold_reasons\":null,\"gold_spent\":3905,\"gold_t\":null,\"hero_damage\":2503,\"hero_healing\":0,\"hero_hits\":null,\"hero_id\":108,\"item_0\":178,\"item_1\":50,\"item_2\":11,\"item_3\":4,\"item_4\":0,\"item_5\":36,\"item_neutral\":354,\"item_uses\":null,\"kill_streaks\":null,\"killed\":null,\"killed_by\":null,\"kills\":0,\"kills_log\":null,\"lane_pos\":null,\"last_hits\":58,\"leaver_status\":0,\"level\":9,\"lh_t\":null,\"life_state\":null,\"max_hero_hit\":null,\"multi_kills\":null,\"obs\":null,\"obs_left_log\":null,\"obs_log\":null,\"obs_placed\":null,\"party_id\":7,\"party_size\":1,\"performance_others\":null,\"permanent_buffs\":[{\"permanent_buff\":6,\"stack_count\":1},{\"permanent_buff\":9,\"stack_count\":6}],\"pings\":null,\"pred_vict\":null,\"purchase\":null,\"purchase_log\":null,\"randomed\":null,\"repicked\":null,\"roshans_killed\":null,\"rune_pickups\":null,\"runes\":null,\"runes_log\":null,\"sen\":null,\"sen_left_log\":null,\"sen_log\":null,\"sen_placed\":null,\"stuns\":null,\"teamfight_participation\":null,\"times\":null,\"tower_damage\":0,\"towers_killed\":null,\"xp_per_min\":274,\"xp_reasons\":null,\"xp_t\":null,\"personaname\":\"✪LoĪiPoρ\",\"name\":null,\"last_login\":\"2017-07-18T08:08:18.015Z\",\"radiant_win\":true,\"start_time\":1586742007,\"duration\":1097,\"cluster\":111,\"lobby_type\":7,\"game_mode\":22,\"is_contributor\":false,\"patch\":44,\"region\":1,\"isRadiant\":false,\"win\":0,\"lose\":1,\"total_gold\":3876,\"total_xp\":5009,\"kda\":0,\"abandons\":0,\"rank_tier\":55,\"cosmetics\":[],\"benchmarks\":{\"gold_per_min\":{\"raw\":212,\"pct\":0.005390835579514825},\"xp_per_min\":{\"raw\":274,\"pct\":0.022911051212938006},\"kills_per_min\":{\"raw\":0,\"pct\":0.08355795148247978},\"last_hits_per_min\":{\"raw\":3.17228805834093,\"pct\":0.0889487870619946},\"hero_damage_per_min\":{\"raw\":136.9006381039198,\"pct\":0.004043126684636119},\"hero_healing_per_min\":{\"raw\":0,\"pct\":0.42452830188679247},\"tower_damage\":{\"raw\":0,\"pct\":0.11320754716981132},\"stuns_per_min\":{\"raw\":0,\"pct\":0.0026954177897574125},\"lhten\":{}}},{\"match_id\":5352330363,\"player_slot\":131,\"ability_targets\":null,\"ability_upgrades_arr\":[5138,5140,5140,5138,5140,5141,5140,5138],\"ability_uses\":null,\"account_id\":66372541,\"actions\":null,\"additional_units\":null,\"assists\":1,\"backpack_0\":0,\"backpack_1\":0,\"backpack_2\":0,\"backpack_3\":null,\"buyback_log\":null,\"camps_stacked\":null,\"connection_log\":null,\"creeps_stacked\":null,\"damage\":null,\"damage_inflictor\":null,\"damage_inflictor_received\":null,\"damage_taken\":null,\"damage_targets\":null,\"deaths\":4,\"denies\":12,\"dn_t\":null,\"firstblood_claimed\":null,\"gold\":437,\"gold_per_min\":179,\"gold_reasons\":null,\"gold_spent\":4400,\"gold_t\":null,\"hero_damage\":6449,\"hero_healing\":0,\"hero_hits\":null,\"hero_id\":30,\"item_0\":215,\"item_1\":0,\"item_2\":0,\"item_3\":0,\"item_4\":0,\"item_5\":244,\"item_neutral\":0,\"item_uses\":null,\"kill_streaks\":null,\"killed\":null,\"killed_by\":null,\"kills\":4,\"kills_log\":null,\"lane_pos\":null,\"last_hits\":10,\"leaver_status\":0,\"level\":9,\"lh_t\":null,\"life_state\":null,\"max_hero_hit\":null,\"multi_kills\":null,\"obs\":null,\"obs_left_log\":null,\"obs_log\":null,\"obs_placed\":null,\"party_id\":8,\"party_size\":1,\"performance_others\":null,\"permanent_buffs\":null,\"pings\":null,\"pred_vict\":null,\"purchase\":null,\"purchase_log\":null,\"randomed\":null,\"repicked\":null,\"roshans_killed\":null,\"rune_pickups\":null,\"runes\":null,\"runes_log\":null,\"sen\":null,\"sen_left_log\":null,\"sen_log\":null,\"sen_placed\":null,\"stuns\":null,\"teamfight_participation\":null,\"times\":null,\"tower_damage\":0,\"towers_killed\":null,\"xp_per_min\":253,\"xp_reasons\":null,\"xp_t\":null,\"personaname\":\"Groovy31\",\"name\":null,\"last_login\":\"2020-03-14T15:16:44.704Z\",\"radiant_win\":true,\"start_time\":1586742007,\"duration\":1097,\"cluster\":111,\"lobby_type\":7,\"game_mode\":22,\"is_contributor\":false,\"patch\":44,\"region\":1,\"isRadiant\":false,\"win\":0,\"lose\":1,\"total_gold\":3272,\"total_xp\":4625,\"kills_per_min\":0.21877848678213307,\"kda\":1,\"abandons\":0,\"rank_tier\":55,\"cosmetics\":[],\"benchmarks\":{\"gold_per_min\":{\"raw\":179,\"pct\":0.05834092980856882},\"xp_per_min\":{\"raw\":253,\"pct\":0.09115770282588878},\"kills_per_min\":{\"raw\":0.21877848678213307,\"pct\":0.7812215132178669},\"last_hits_per_min\":{\"raw\":0.5469462169553327,\"pct\":0.1577028258887876},\"hero_damage_per_min\":{\"raw\":352.72561531449406,\"pct\":0.4029170464904284},\"hero_healing_per_min\":{\"raw\":0,\"pct\":0.04740200546946217},\"tower_damage\":{\"raw\":0,\"pct\":0.20875113947128532},\"stuns_per_min\":{\"raw\":0,\"pct\":0},\"lhten\":{}}},{\"match_id\":5352330363,\"player_slot\":132,\"ability_targets\":null,\"ability_upgrades_arr\":[5173,5174,5173,5175,5173,5176,5173,5175,5175],\"ability_uses\":null,\"account_id\":null,\"actions\":null,\"additional_units\":null,\"assists\":2,\"backpack_0\":0,\"backpack_1\":0,\"backpack_2\":0,\"backpack_3\":null,\"buyback_log\":null,\"camps_stacked\":null,\"connection_log\":null,\"creeps_stacked\":null,\"damage\":null,\"damage_inflictor\":null,\"damage_inflictor_received\":null,\"damage_taken\":null,\"damage_targets\":null,\"deaths\":4,\"denies\":10,\"dn_t\":null,\"firstblood_claimed\":null,\"gold\":416,\"gold_per_min\":192,\"gold_reasons\":null,\"gold_spent\":3470,\"gold_t\":null,\"hero_damage\":5598,\"hero_healing\":0,\"hero_hits\":null,\"hero_id\":39,\"item_0\":36,\"item_1\":39,\"item_2\":44,\"item_3\":63,\"item_4\":77,\"item_5\":77,\"item_neutral\":71,\"item_uses\":null,\"kill_streaks\":null,\"killed\":null,\"killed_by\":null,\"kills\":2,\"kills_log\":null,\"lane_pos\":null,\"last_hits\":38,\"leaver_status\":0,\"level\":9,\"lh_t\":null,\"life_state\":null,\"max_hero_hit\":null,\"multi_kills\":null,\"obs\":null,\"obs_left_log\":null,\"obs_log\":null,\"obs_placed\":null,\"party_id\":9,\"party_size\":1,\"performance_others\":null,\"permanent_buffs\":null,\"pings\":null,\"pred_vict\":null,\"purchase\":null,\"purchase_log\":null,\"randomed\":null,\"repicked\":null,\"roshans_killed\":null,\"rune_pickups\":null,\"runes\":null,\"runes_log\":null,\"sen\":null,\"sen_left_log\":null,\"sen_log\":null,\"sen_placed\":null,\"stuns\":null,\"teamfight_participation\":null,\"times\":null,\"tower_damage\":0,\"towers_killed\":null,\"xp_per_min\":266,\"xp_reasons\":null,\"xp_t\":null,\"radiant_win\":true,\"start_time\":1586742007,\"duration\":1097,\"cluster\":111,\"lobby_type\":7,\"game_mode\":22,\"is_contributor\":false,\"patch\":44,\"region\":1,\"isRadiant\":false,\"win\":0,\"lose\":1,\"total_gold\":3510,\"total_xp\":4863,\"kills_per_min\":0.10938924339106654,\"kda\":0,\"abandons\":0,\"rank_tier\":null,\"cosmetics\":[],\"benchmarks\":{\"gold_per_min\":{\"raw\":192,\"pct\":0.00998003992015968},\"xp_per_min\":{\"raw\":266,\"pct\":0.015968063872255488},\"kills_per_min\":{\"raw\":0.10938924339106654,\"pct\":0.11277445109780439},\"last_hits_per_min\":{\"raw\":2.0783956244302644,\"pct\":0.07085828343313373},\"hero_damage_per_min\":{\"raw\":306.18049225159524,\"pct\":0.022954091816367265},\"hero_healing_per_min\":{\"raw\":0,\"pct\":0.7275449101796407},\"tower_damage\":{\"raw\":0,\"pct\":0.0748502994011976},\"stuns_per_min\":{\"raw\":0,\"pct\":0.6756487025948104},\"lhten\":{}}}],\"patch\":44,\"region\":1,\"replay_url\":\"http://replay111.valve.net/570/5352330363_437302041.dem.bz2\"}";
	}
	@GetMapping("/testAbilityIds")
	public String testAbilityId() {
		return getJSONFile("src/main/resources/build/ability_ids.json");
	}
	
	@GetMapping("/testAbilityList")
	public String testAbilityList() {
		return getJSONFile("src/main/resources/build/abilities.json");
	}
	
	@GetMapping("/getItemInfo")
	public String getItemInfo() {
		JSONObject result = new JSONObject();
		
		result.put("itemIds", new JSONObject(getJSONFile("src/main/resources/build/item_ids.json")));
		result.put("itemList", new JSONObject(getJSONFile("src/main/resources/build/items.json")));
		
		return result.toString();
	}
	
	@GetMapping("/getHeroNameList")
	public String getHeroNameList() {
		return getJSONFile("src/main/resources/build/hero_names.json");
	}
	
	@GetMapping("/getHeroesAbilitiesList")
	public String getHeroesAbilitiesList() {
		return getJSONFile("src/main/resources/build/hero_abilities.json");
	}
	
	public String getJSONFile(String path) {
		JSONParser jsonParser = new JSONParser();
        String result = "";
        try 
        {
        	FileReader reader = new FileReader(path);
 
            JSONObject abilityIds = new JSONObject(jsonParser.parse(reader).toString());
            
            result = abilityIds.toString();
 
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        } catch (ParseException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return result;
	}
	
}
